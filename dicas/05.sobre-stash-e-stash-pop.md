# O que é Stash e Stash Pop de mudanças

**Objetivo**:  
Guardar alterações temporariamente.

**O que faz**:  
O `git stash` é um comando do Git que permite guardar temporariamente as alterações não comitadas no diretório de trabalho, permitindo que você retorne a um estado limpo.

**Exemplo de uso**:  
É útil quando você precisa interromper o trabalho atual, mudar para outra tarefa (como corrigir um bug urgente) e depois voltar para onde parou, sem ter que fazer um commit de algo incompleto.

---

## Descrição do fluxo `git stash` e `git stash pop`

1. **Edite um arquivo**  
   Você começa fazendo alterações em um arquivo rastreado pelo Git. Neste ponto, suas alterações estão no diretório de trabalho, mas ainda não foram adicionadas ao *staging area* (`git add`) nem comitadas (`git commit`).

2. **Use `git stash`**  
   Este comando:
   - Salva todas as alterações (preparadas e não preparadas) em uma pilha de stashes.  
   - Limpa o diretório de trabalho, retornando-o ao estado do último commit.  
   - Permite mudar de branch ou realizar outras operações sem se preocupar em perder o trabalho em andamento.  

3. **Use `git stash pop`**  
   Este comando:
   - Aplica as alterações mais recentes do stash de volta ao diretório de trabalho.  
   - Remove essa entrada da pilha de stashes.  
   - Com isso, o ambiente de trabalho volta a ter as alterações que estavam guardadas.  

---

## Exemplo prático

1. **Inicialização**

    ```sh
    # Crie um novo repositório
    mkdir projeto-stash
    cd projeto-stash
    git init

    # Crie um arquivo e faça o primeiro commit
    echo "Conteúdo inicial" > arquivo.txt
    git add arquivo.txt
    git commit -m "Commit inicial do projeto"
    ```

2. **Edite um arquivo**

    ```sh
    # Faça uma alteração no arquivo, mas não faça commit
    echo "Alteração incompleta" >> arquivo.txt

    # Neste ponto, o comando git status mostraria arquivo.txt como modificado.
    ```

3. **Use `git stash`**

    ```sh
    # Guarde as alterações temporariamente
    git stash

    # Após este comando, o git status mostrará um diretório limpo,
    # pois as alterações foram salvas na pilha de stashes.
    ```

4. **Faça outra tarefa (opcional)**

    ```sh
    # Mude para outra branch para corrigir um bug
    git checkout outra-branch
    ```

5. **Use `git stash pop`**

    ```sh
    # Volte para a branch original
    git checkout minha-branch

    # Restaure as alterações salvas
    git stash pop

    # A alteração feita no passo 2 será reaplicada ao arquivo.txt.
    # O comando pop remove o stash da pilha.
    # Se preferir mantê-lo, use git stash apply em vez de pop.
    ```

---

## Cenários de uso para o `git stash`

- **Alternância de branches urgente**:  
  Você está desenvolvendo uma funcionalidade, mas surge um bug crítico que precisa ser corrigido imediatamente na `main` ou em outra branch.  
  Em vez de comitar um trabalho incompleto, você usa `git stash` para guardar suas mudanças, muda para a branch de correção e depois retorna aplicando o stash.  

- **Limpeza do diretório de trabalho**:  
  Se você tem alterações experimentais que não estão prontas para commit, o `git stash` guarda esse progresso, deixando o diretório limpo para focar em outra tarefa.  

- **Evitar commits prematuros**:  
  Ao trabalhar em uma funcionalidade grande, você pode usar `git stash` para salvar o progresso temporariamente, atualizar o repositório remoto e depois aplicar suas mudanças para continuar de onde parou.  

---

<!-- Dica: Se quiser, pode guardar temporariamente esse arquivo via 'git stash' e depois recuperar com 'git stash pop'. -->
