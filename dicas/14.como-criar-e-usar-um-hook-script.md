# Git Hooks: Criando um hook pre-commit que imprime no terminal

## Objetivo
Automatizar verificações antes de realizar um commit, como mensagens informativas, linters ou testes.

---

## O que são Git Hooks
- Scripts que o Git executa automaticamente antes ou depois de eventos (commit, push, merge, etc.).
- Localizados em `.git/hooks` dentro do repositório.
- Cada hook é um arquivo executável com o nome do evento (ex: `pre-commit`).

---

## Criando um hook pre-commit

### 1. Navegue até o diretório de hooks
```sh
cd .git/hooks
````

---

### 2. Crie o arquivo do hook

```sh
touch pre-commit
```

> Não use extensão. Você pode se inspirar nos arquivos `.sample`.

---

### 3. Adicione o script

Abra o arquivo `pre-commit` no editor e adicione, por exemplo, algo simples:

```sh
#!/bin/sh
echo "Executando o hook de pre-commit..."
```

Ou algo mais criativo, usando cores e arte ASCII:

```sh
#!/bin/sh
echo -e '\033[31;42m TREINO DE GIT: Executando o hook de pre-commit...\033[0m'

echo " Imagem: "

echo "
░▒▓████████▓▒░▒▓███████▓▒░░▒▓████████▓▒░▒▓█▓▒░▒▓███████▓▒░ ░▒▓██████▓▒░     ░▒▓███████▓▒░░▒▓████████▓▒░       ░▒▓██████▓▒░░▒▓█▓▒░▒▓████████▓▒░ 
   ░▒▓█▓▒░   ░▒▓█▓▒░░▒▓█▓▒░▒▓█▓▒░      ░▒▓█▓▒░▒▓█▓▒░░▒▓█▓▒░▒▓█▓▒░░▒▓█▓▒░    ░▒▓█▓▒░░▒▓█▓▒░▒▓█▓▒░             ░▒▓█▓▒░░▒▓█▓▒░▒▓█▓▒░  ░▒▓█▓▒░     
   ░▒▓█▓▒░   ░▒▓█▓▒░░▒▓█▓▒░▒▓█▓▒░      ░▒▓█▓▒░▒▓█▓▒░░▒▓█▓▒░▒▓█▓▒░░▒▓█▓▒░    ░▒▓█▓▒░░▒▓█▓▒░▒▓█▓▒░             ░▒▓█▓▒░      ░▒▓█▓▒░  ░▒▓█▓▒░     
   ░▒▓█▓▒░   ░▒▓███████▓▒░░▒▓██████▓▒░ ░▒▓█▓▒░▒▓█▓▒░░▒▓█▓▒░▒▓█▓▒░░▒▓█▓▒░    ░▒▓█▓▒░░▒▓█▓▒░▒▓██████▓▒░        ░▒▓█▓▒▒▓███▓▒░▒▓█▓▒░  ░▒▓█▓▒░     
   ░▒▓█▓▒░   ░▒▓█▓▒░░▒▓█▓▒░▒▓█▓▒░      ░▒▓█▓▒░▒▓█▓▒░░▒▓█▓▒░▒▓█▓▒░░▒▓█▓▒░    ░▒▓█▓▒░░▒▓█▓▒░▒▓█▓▒░             ░▒▓█▓▒░░▒▓█▓▒░▒▓█▓▒░  ░▒▓█▓▒░     
   ░▒▓█▓▒░   ░▒▓█▓▒░░▒▓█▓▒░▒▓█▓▒░      ░▒▓█▓▒░▒▓█▓▒░░▒▓█▓▒░▒▓█▓▒░░▒▓█▓▒░    ░▒▓█▓▒░░▒▓█▓▒░▒▓█▓▒░             ░▒▓█▓▒░░▒▓█▓▒░▒▓█▓▒░  ░▒▓█▓▒░     
   ░▒▓█▓▒░   ░▒▓█▓▒░░▒▓█▓▒░▒▓████████▓▒░▒▓█▓▒░▒▓█▓▒░░▒▓█▓▒░░▒▓██████▓▒░     ░▒▓███████▓▒░░▒▓████████▓▒░       ░▒▓██████▓▒░░▒▓█▓▒░  ░▒▓█▓▒░     
"

echo -e '\033[34;43m Sucesso!\033[0m';
echo " Detalhes: "
```

> `#!/bin/sh` define o interpretador do script e `echo` imprime mensagens no terminal.

---

### 4. Torne o script executável

```sh
chmod +x pre-commit
```

> O Git só executará hooks com permissão de execução.

---

### 5. Teste o hook

* Adicione um arquivo e faça um commit:

```sh
git add arquivo.txt
git commit
```

* Você verá a mensagem do hook antes do editor de commit abrir.

---

## Usando hooks para automação

O pre-commit pode validar o código antes do commit:

* **Status 0 (sucesso)**: Commit prossegue normalmente.
* **Status diferente de 0 (falha)**: Git aborta o commit.

### Exemplos comuns de automação:

* **Linters**: Garantir estilo do código (ESLint, Black, RuboCop).
* **Testes unitários**: Evitar que código quebrado seja commitado.
* **Segurança**: Bloquear commits de senhas ou chaves de API.

> Hooks são uma maneira poderosa de manter qualidade e consistência do código antes de enviar para o repositório.

